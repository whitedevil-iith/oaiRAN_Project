# Aurora Helm chart default values
# Deploy Aurora producer + receiver sidecar with a CU or DU pod

global:
  namespace: "oai-ran"
  image:
    registry: local
    pullPolicy: Always

# ── Node configuration ───────────────────────────────────────────
node:
  # Node type: CU | DU | RU | MONOLITHIC
  type: DU

# ── Producer container (runs alongside the RAN node) ─────────────
producer:
  image:
    repository: oai-gnb
    tag: latest
  resources:
    requests:
      cpu: "2"
      memory: "2Gi"
    limits:
      cpu: "4"
      memory: "4Gi"
  securityContext:
    # Privileged mode is disabled; only the specific capabilities
    # required for eBPF monitoring are granted below.
    privileged: false
    capabilities:
      add:
        - SYS_ADMIN
        - SYS_RESOURCE
        - BPF
        - PERFMON

# ── Receiver sidecar container ───────────────────────────────────
receiver:
  image:
    repository: aurora-receiver
    tag: latest
  resources:
    requests:
      cpu: "0.5"
      memory: "256Mi"
    limits:
      cpu: "1"
      memory: "512Mi"
  csvOutputPath: /aurora-data/metrics.csv

# ── Worker monitoring ────────────────────────────────────────────
workerMonitoring:
  enabled: true
  # Workers are auto-populated from node type if not specified
  workers: []

# ── Shared memory volume ─────────────────────────────────────────
sharedMemory:
  mountPath: /aurora-ipc
  # medium: Memory uses tmpfs (RAM-backed)
  medium: Memory
  sizeLimit: 64Mi
